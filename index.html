<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ "–£–≥–∞–¥–∞–π —Ä–∞—Å—Ç–µ–Ω–∏–µ"</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const PlantQuizGame = () => {
            // –î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏–π
            const plantsData = [
                { id: 1, name: "1", displayName: "–°—É–∫–∫—É–ª–µ–Ω—Ç —Å –∂–µ–ª—Ç—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏", image: "images/BeachDaisy.JPG" },
                { id: 2, name: "2", displayName: "–ó–æ–Ω—Ç–∏—á–Ω–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ", image: "images/MoonCarrot.JPG" },
                { id: 3, name: "3", displayName: "–ê–≥–∞–ø–∞–Ω—Ç—É—Å", image: "images/Agapanthus.JPG" },
                { id: 4, name: "4", displayName: "–ë—É–≥–µ–Ω–≤–∏–ª–ª–∏—è", image: "images/bougainvillea.JPG" },
                { id: 5, name: "5", displayName: "–ö–∞–º–µ–ª–∏—è", image: "üåπ" },
                { id: 6, name: "6", displayName: "–ì–µ—Ä–±–µ—Ä–∞", image: "üåª" }
            ];

            // –°–æ—Å—Ç–æ—è–Ω–∏—è
            const [plants, setPlants] = useState([]);
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [gameState, setGameState] = useState('playing');
            const [options, setOptions] = useState([]);
            const [correctAnswer, setCorrectAnswer] = useState('');

            // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞
            const shuffleArray = (array) => {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            };

            // –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
            const generateOptions = (correctPlant) => {
                const correctName = correctPlant.name;
                const incorrectOptions = [];
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 3 —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 15, –∏—Å–∫–ª—é—á–∞—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                while (incorrectOptions.length < 3) {
                    const randomNum = Math.floor(Math.random() * 15) + 1;
                    const randomNumStr = randomNum.toString();
                    if (randomNumStr !== correctName && !incorrectOptions.includes(randomNumStr)) {
                        incorrectOptions.push(randomNumStr);
                    }
                }
                
                // –°–º–µ—à–∏–≤–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
                const allOptions = [correctName, ...incorrectOptions];
                return shuffleArray(allOptions);
            };

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
            useEffect(() => {
                const shuffled = shuffleArray(plantsData);
                setPlants(shuffled);
            }, []);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
            useEffect(() => {
                if (plants.length > 0 && currentQuestion < plants.length) {
                    const currentPlant = plants[currentQuestion];
                    const newOptions = generateOptions(currentPlant);
                    setOptions(newOptions);
                    setCorrectAnswer(currentPlant.name);
                }
            }, [currentQuestion, plants]);

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
            const handleAnswer = (selectedAnswer) => {
                if (selectedAnswer === correctAnswer) {
                    setScore(score + 1);
                    setGameState('correct');
                } else {
                    setGameState('incorrect');
                }

                setTimeout(() => {
                    if (currentQuestion + 1 < plants.length) {
                        setCurrentQuestion(currentQuestion + 1);
                        setGameState('playing');
                    } else {
                        setGameState('finished');
                    }
                }, 1500);
            };

            // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
            const restartGame = () => {
                const shuffled = shuffleArray(plantsData);
                setPlants(shuffled);
                setCurrentQuestion(0);
                setScore(0);
                setGameState('playing');
            };

            // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞—Å—Ç–µ–Ω–∏—è
            const getPlantImage = (plant) => {
                if (plant.image.startsWith('images/')) {
                    return React.createElement('img', {
                        key: 'plant-image',
                        src: plant.image,
                        alt: `–†–∞—Å—Ç–µ–Ω–∏–µ ${plant.id}`,
                        className: 'w-full h-full object-contain',
                        style: { 
                            border: '6px solid #C29C27',
                            backgroundColor: 'white'
                        }
                    });
                } else {
                    // –î–ª—è —ç–º–æ–¥–∑–∏
                    return React.createElement('div', {
                        key: 'plant-emoji',
                        className: 'w-full h-full flex items-center justify-center text-9xl',
                        style: { 
                            border: '6px solid #C29C27',
                            backgroundColor: 'white'
                        }
                    }, plant.image);
                }
            };

            // –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã
            if (gameState === 'finished') {
                return React.createElement('div', {
                    className: 'min-h-screen flex items-center justify-center relative',
                    style: { backgroundColor: '#163B3A' }
                }, [
                    // –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–æ–ª–æ—Ç—ã–µ –ø–æ–ª–æ—Å–∫–∏
                    React.createElement('div', { key: 'decor1', className: 'absolute top-4 left-4 w-20 h-1', style: { backgroundColor: '#C29C27' } }),
                    React.createElement('div', { key: 'decor2', className: 'absolute top-8 left-8 w-32 h-1', style: { backgroundColor: '#C29C27' } }),
                    React.createElement('div', { key: 'decor3', className: 'absolute bottom-4 right-4 w-20 h-1', style: { backgroundColor: '#C29C27' } }),
                    React.createElement('div', { key: 'decor4', className: 'absolute bottom-8 right-8 w-32 h-1', style: { backgroundColor: '#C29C27' } }),
                    
                    React.createElement('div', {
                        key: 'result',
                        className: 'p-8 shadow-lg text-center max-w-md mx-4',
                        style: { backgroundColor: '#163B3A', border: '6px solid #C29C27' }
                    }, [
                        React.createElement('h1', {
                            key: 'title',
                            className: 'text-4xl font-bold mb-6',
                            style: { color: '#C29C27' }
                        }, `–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${score} –±–∞–ª–ª–æ–≤!`),
                        React.createElement('button', {
                            key: 'restart',
                            onClick: restartGame,
                            className: 'px-6 py-3 font-semibold text-white transition-colors hover:opacity-80',
                            style: { backgroundColor: '#163B3A', border: '4px solid #C29C27', color: '#C29C27' }
                        }, '–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞')
                    ])
                ]);
            }

            // –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã
            return React.createElement('div', {
                className: 'min-h-screen p-4 relative flex items-center justify-center',
                style: { backgroundColor: '#163B3A' }
            }, [
                // –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–æ–ª–æ—Ç—ã–µ –ø–æ–ª–æ—Å–∫–∏
                React.createElement('div', { key: 'decor1', className: 'absolute top-4 left-4 w-24 h-1', style: { backgroundColor: '#C29C27' } }),
                React.createElement('div', { key: 'decor2', className: 'absolute top-8 left-8 w-40 h-1', style: { backgroundColor: '#C29C27' } }),
                React.createElement('div', { key: 'decor3', className: 'absolute top-12 left-12 w-16 h-1', style: { backgroundColor: '#C29C27' } }),
                React.createElement('div', { key: 'decor4', className: 'absolute bottom-4 right-4 w-24 h-1', style: { backgroundColor: '#C29C27' } }),
                React.createElement('div', { key: 'decor5', className: 'absolute bottom-8 right-8 w-40 h-1', style: { backgroundColor: '#C29C27' } }),
                React.createElement('div', { key: 'decor6', className: 'absolute bottom-12 right-12 w-16 h-1', style: { backgroundColor: '#C29C27' } }),
                
                React.createElement('div', {
                    key: 'container',
                    className: 'w-full max-w-5xl mx-auto relative z-10'
                }, [
                    // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ —Å—á–µ—Ç—á–∏–∫–∞–º–∏
                    React.createElement('div', {
                        key: 'header',
                        className: 'flex justify-between items-center mb-6'
                    }, [
                        React.createElement('div', {
                            key: 'progress',
                            className: 'text-2xl font-bold',
                            style: { color: '#C29C27' }
                        }, `${currentQuestion + 1}/${plants.length}`),
                        React.createElement('div', {
                            key: 'score',
                            className: 'text-2xl font-bold',
                            style: { color: '#C29C27' }
                        }, `–ë–∞–ª–ª—ã: ${score}`)
                    ]),

                    // –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –∏–≥—Ä—ã
                    React.createElement('div', {
                        key: 'game-area',
                        className: 'p-8 shadow-lg',
                        style: { backgroundColor: '#163B3A', border: '6px solid #C29C27' }
                    }, [
                        // –í–æ–ø—Ä–æ—Å
                        React.createElement('h2', {
                            key: 'question',
                            className: 'text-3xl font-bold text-center mb-8',
                            style: { color: '#C29C27' }
                        }, '–ß—Ç–æ —ç—Ç–æ –∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏–µ?'),

                        // –û–±–ª–∞—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—É–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è)
                        React.createElement('div', {
                            key: 'image-area',
                            className: 'mb-8 flex justify-center',
                            style: { height: '500px' }
                        }, [
                            gameState === 'playing' && plants.length > 0 && currentQuestion < plants.length && 
                                React.createElement('div', {
                                    className: 'w-full max-w-3xl h-full'
                                }, getPlantImage(plants[currentQuestion])),
                            
                            gameState === 'correct' && React.createElement('div', {
                                className: 'w-full max-w-3xl h-full flex items-center justify-center text-6xl font-bold',
                                style: { color: '#C29C27', backgroundColor: '#163B3A', border: '6px solid #C29C27' }
                            }, '–í–µ—Ä–Ω–æ! ‚úÖ'),
                            
                            gameState === 'incorrect' && React.createElement('div', {
                                className: 'w-full max-w-3xl h-full flex items-center justify-center text-6xl font-bold',
                                style: { color: '#C29C27', backgroundColor: '#163B3A', border: '6px solid #C29C27' }
                            }, '–ù–µ–≤–µ—Ä–Ω–æ! ‚ùå')
                        ]),

                        // –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
                        gameState === 'playing' && React.createElement('div', {
                            key: 'options',
                            className: 'grid grid-cols-2 gap-4 max-w-3xl mx-auto'
                        }, options.map((option, index) => 
                            React.createElement('button', {
                                key: `option-${index}`,
                                onClick: () => handleAnswer(option),
                                className: 'py-4 px-6 font-semibold text-xl transition-all duration-200 hover:opacity-80 hover:scale-105',
                                style: { 
                                    backgroundColor: '#163B3A', 
                                    border: '4px solid #C29C27',
                                    color: '#C29C27',
                                    boxShadow: '0 4px 8px rgba(0,0,0,0.3)'
                                }
                            }, `–†–∞—Å—Ç–µ–Ω–∏–µ ${option}`)
                        ))
                    ]),

                    // –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤–Ω–∏–∑—É
                    React.createElement('div', {
                        key: 'instruction',
                        className: 'text-center mt-6 opacity-75',
                        style: { color: '#C29C27' }
                    }, '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Ä–∞—Å—Ç–µ–Ω–∏—è')
                ])
            ]);
        };

        // –†–µ–Ω–¥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(PlantQuizGame));
    </script>
</body>
</html>
