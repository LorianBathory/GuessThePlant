# Добавление тегов в режиме заучивания

Теги карточек теперь описываются в отдельном справочнике [`src/data/json/plantParameters.json`](../src/data/json/plantParameters.json), а карточки в [`memorization.json`](../src/data/json/memorization.json) хранят только идентификаторы тегов. Такой подход позволяет переиспользовать переводы и иконки в будущем, когда фильтрация по тегам станет обязательной.

## 1. Зарегистрируйте тег в `plantParameters.json`

Каждая запись в массиве `tags` должна содержать уникальный `id` и подписи на трёх языках. По умолчанию тег показывается внутри розового круга без текста. Можно переопределить визуализацию через дополнительные поля:

```json
{
  "id": "droughtTolerant",
  "label": {
    "ru": "Засухоустойчивое",
    "en": "Drought tolerant",
    "nl": "Droogtetolerant"
  },
  "icon": "images/icons/drought.svg",
  "circleColor": "#FF4FA3",
  "circleContent": null
}
```

- `icon` (опционально) — путь до изображения, которое будет вставлено внутрь круга вместо текста.
- `circleColor` (опционально) — цвет заливки круга. Если не задан, используется базовый розовый (`#FF4FA3`).
- `circleContent` (опционально) — текст/символ внутри круга. Укажите `null`, чтобы оставить круг пустым, или строку вроде `"☀"`.

Убедитесь, что идентификатор (`id`) уникален и не содержит пробелов — UI ищет его через [`getPlantTagDefinition`](../src/game/dataLoader.js).

## 2. Привяжите тег к карточке

Добавьте массив `tags` в нужную запись внутри `plantParameters` в [`memorization.json`](../src/data/json/memorization.json):

```json
"3": {
  "scientificName": "Agapanthus africanus",
  "lifeCycle": "perennial",
  "tags": [
    "medicinal",
    "droughtTolerant"
  ]
}
```

Карточка может ссылаться на несколько тегов. Если указать неизвестный идентификатор, UI покажет маркер с подписью `—`, поэтому поддерживайте `plantParameters.json` в актуальном состоянии.

## 3. Проверьте изменения

Запустите валидаторы, чтобы убедиться в корректности формата и совпадении ссылок:

```bash
npm run validate:data
```

Скрипт перечитает все JSON-файлы и сообщит о пропущенных тегах, ошибках в уровнях токсичности и других несоответствиях.

После обновления справочника теги автоматически появятся в режиме заучивания и будут готовы к будущим фильтрам.
